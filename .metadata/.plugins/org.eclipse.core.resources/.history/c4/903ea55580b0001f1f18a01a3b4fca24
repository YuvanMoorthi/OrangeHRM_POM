package com.orangehrm.qa.util;

import java.time.Duration;
import java.util.Set;

import org.openqa.selenium.By;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;

import com.orangehrm.qa.base.SeleniumBase;

public class TestUtil extends SeleniumBase {
	public long implicityWait = 30;
	public long pageLoadTimeout = 10;

	/**
	 * Switches between the parent window and the new window that opens after
	 * clicking a link.
	 * 
	 * @param linkLocator The locator for the link that opens the new window.
	 */
	import org.openqa.selenium.WebDriver;
	import java.util.List;

	// Method to switch to a window by index
	public static void switchToWindowByIndex(WebDriver driver, int index) {
		// Get all window handles
		List<String> windowHandles = List.copyOf(driver.getWindowHandles());

		// Check if the index is within bounds
		if (index >= 0 && index < windowHandles.size()) {
			// Switch to the window by the specified index
			driver.switchTo().window(windowHandles.get(index));
		} else {
			System.out.println("Invalid index: " + index);
		}
	}

	/**
	 * Switches back to the parent window after handling the new window.
	 */
	public void switchBackToParentWindow() {
		String parentWindowHandle = driver.getWindowHandle();
		driver.switchTo().window(parentWindowHandle);
}
